---

## 1. Lexer & Parser (O Alicerce)

* [ ] **Espaços e Tabs:** O shell ignora múltiplos espaços e tabs entre comandos?
* [ ] **Aspas Coladas:** `ls"-la"` ou `echo'hello'world` são tratados como um único token?
* [ ] **Aspas Vazias:** `ls ""` passa um argumento vazio para o `ls` ou ele simplesmente ignora? (Deveria passar o argumento vazio).
* [ ] **Sintaxe Inválida:** O parser bloqueia erros como `| |`, `> |`, `<<<`, ou terminar a linha com `|`?
* [ ] **Ordem dos Redirecionamentos:** O parser aceita redirecionamentos em qualquer lugar? (Ex: `> file ls -l`).

---

## 2. Expander (O Próximo Passo)

* [ ] **Variáveis Simples:** `$USER` expande corretamente?
* [ ] **Variáveis em Aspas Duplas:** `"$USER"` expande?
* [ ] **Variáveis em Aspas Simples:** `'$USER'` permanece literal?
* [ ] **Status de Saída:** `$?` expande para o código de erro do último comando executado?
* [ ] **Variável Inexistente:** `$NAO_EXISTE` expande para uma string vazia (não deve quebrar o comando)?
* [ ] **Ambiente:** Você fez uma cópia da `envp` para poder usar o `export` e `unset` sem modificar o ambiente do sistema pai?

---

## 3. Execução & Pipes

* [ ] **Path:** O shell encontra comandos no `PATH` (`ls`) e também caminhos absolutos (`/bin/ls`) ou relativos (`./script.sh`)?
* [ ] **Múltiplos Pipes:** `ls | grep a | wc -l` funciona? (Teste com 5 ou mais pipes).
* [ ] **FD Leak Check:** Se você rodar `ls | ls | ls`, os FDs dos pipes são fechados corretamente no pai e nos filhos?
* [ ] **Zombies:** Você está dando `wait` ou `waitpid` para **todos** os processos filhos? (Se não, seu sistema ficará cheio de processos zumbis).
* [ ] **Comandos Inexistentes:** O shell retorna erro 127 e uma mensagem clara se o comando não for encontrado?

---

## 4. Redirecionamentos

* [ ] **Entrada (`<`):** Abre o arquivo corretamente? Erro se não existir?
* [ ] **Saída (`>`):** Cria o arquivo? Trunca (apaga) se já existir?
* [ ] **Append (`>>`):** Escreve no final do arquivo sem apagar?
* [ ] **Heredoc (`<<`):** * Lê do teclado até achar o delimitador?
* Expande variáveis dentro do heredoc (a menos que o delimitador esteja entre aspas)?
* Não deixa arquivos temporários no disco após o uso?



---

## 5. Built-ins (Comportamento Interno)

* [ ] **echo:** Aceita a flag `-n`? (Teste `-n -n -n`).
* [ ] **cd:** Atualiza o `PWD` e o `OLDPWD`? Funciona sem argumentos (vai para `$HOME`)?
* [ ] **pwd:** Imprime o caminho atual corretamente?
* [ ] **export:** Adiciona variáveis? Funciona sem argumentos (lista variáveis)?
* [ ] **unset:** Remove variáveis do ambiente?
* [ ] **env:** Lista as variáveis de ambiente (apenas as que têm valor)?
* [ ] **exit:** Fecha o shell com o status correto? Lida com argumentos não numéricos?

---

## 6. Sinais (Signals)

* [ ] **Ctrl-C (`SIGINT`):** * No prompt: Limpa a linha e mostra um novo prompt.
* Durante um comando (ex: `cat` sem args): Mata o processo filho e volta ao prompt.


* [ ] **Ctrl-D (`EOF`):** Sai do shell corretamente (como se tivesse digitado `exit`).
* [ ] **Ctrl-\ (`SIGQUIT`):** * No prompt: Não faz nada.
* Durante um comando: Mata o processo filho e printa `Quit (core dumped)`.



---

## 7. Memória & Higiene

* [ ] **Valgrind:** Rodar o comando `valgrind --leak-check=full --show-leak-kinds=all --suppressions=readline.supp ./minishell`.
* *Dica:* O `readline` tem vazamentos próprios. Use um arquivo de supressão para focar apenas no seu código.


* [ ] **FDs:** Verifique se não há FDs abertos sobrando após cada comando usando `ls -l /proc/self/fd` (em Linux).

---